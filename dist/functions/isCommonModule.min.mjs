import{makeFilepath}from"../utilities/makeFilepath";import{fileExists}from"test-filesystem";import{readFileSync}from"fs";import{importRegex}from"./importRegex.mjs";export const isCommonModule=e=>{const t=makeFilepath(e.path,"package.json");if(fileExists(t)){const e=JSON.parse(readFileSync(t).toString());if(e.type&&"module"===e.type)return!1}if(!fileExists(e.file))return!0;const i=readFileSync(e.file).toString();return/require\(['`"].+['`"]\)/.test(i)&&!importRegex().test(i)};