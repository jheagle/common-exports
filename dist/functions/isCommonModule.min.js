"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCommonModule=exports.default=void 0;var _makeFilepath=_interopRequireDefault(require("./makeFilepath")),_fileExists=_interopRequireDefault(require("./fileExists")),_fs=require("fs"),_importRegex=_interopRequireDefault(require("./importRegex"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const isCommonModule=e=>{const t=(0,_makeFilepath.default)(e.path,"package.json");if((0,_fileExists.default)(t)){const e=JSON.parse((0,_fs.readFileSync)(t).toString());if(e.type&&"module"===e.type)return!1}const r=(0,_fs.readFileSync)(e.file).toString();return/require\(['`"].+['`"]\)/.test(r)&&!(0,_importRegex.default)().test(r)};exports.isCommonModule=isCommonModule;var _default=exports.default=isCommonModule;