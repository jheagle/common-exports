"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCommonModule=void 0;var _makeFilepath=require("../utilities/makeFilepath"),_testFilesystem=require("test-filesystem"),_fs=require("fs"),_importRegex=require("./importRegex");const isCommonModule=e=>{const t=(0,_makeFilepath.makeFilepath)(e.path,"package.json");if((0,_testFilesystem.fileExists)(t)){const e=JSON.parse((0,_fs.readFileSync)(t).toString());if(e.type&&"module"===e.type)return!1}if(!(0,_testFilesystem.fileExists)(e.file))return!0;const i=(0,_fs.readFileSync)(e.file).toString();return/require\(['`"].+['`"]\)/.test(i)&&!(0,_importRegex.importRegex)().test(i)};exports.isCommonModule=isCommonModule;