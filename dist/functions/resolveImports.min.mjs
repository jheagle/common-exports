import{findImports}from"./findImports.mjs";import{strAfter}from"../utilities/strAfter";import{makeFilepath}from"../utilities/makeFilepath";import{isCommonModule}from"./isCommonModule.mjs";import{makeModuleInfo}from"./makeModuleInfo.mjs";export function resolveImports(o,t=null){const e=makeFilepath(strAfter(o.base,o.cwd)),r=t||e;return findImports(o.contents.toString()).reduce(((o,t)=>{const m=makeModuleInfo(e,t,r);return m.every(isCommonModule)||m.forEach((t=>o.push(t))),o}),[])}